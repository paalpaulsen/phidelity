/* =========================================
   1. VARIABLES
   ========================================= */
:root {
    --phi: 1.618033988;
    --scale: 1.309;
    /* Mobile Default */
    --nav-width: 362px;
    --header-height: 60px;
    --font-sans: 'Inter', sans-serif;
    --font-serif: 'DM Serif Display', serif;

    /* TYPOGRAPHY SCALES */
    --type-base: 1rem;

    /* H3 = Base * Scale (Fluid: 1.31rem -> 1.62rem) */
    --type-h3: clamp(1.31rem, 1rem + 1cqw, 1.62rem);

    /* H2 = Base * Scale^2 (Fluid: 1.71rem -> 2.62rem) */
    --type-h2: clamp(1.71rem, 1rem + 2cqw, 2.62rem);

    /* H1 S = Base * Scale^2 (Fluid: 1.71rem -> 2.62rem) */
    --type-h1-s: clamp(1.71rem, 1rem + 2cqw, 2.62rem);

    /* H1 M = Base * Scale^3 (Fluid: 2.24rem -> 4.24rem) */
    --type-h1-m: clamp(2.24rem, 1rem + 5cqw, 4.24rem);

    /* H1 L = Base * Scale^4 (Fluid: 2.93rem -> 6.85rem) */
    --type-h1-l: clamp(2.93rem, 1rem + 8cqw, 6.85rem);

    /* Default H1 mapping */
    --type-h1: var(--type-h1-m);

    /* Display Sizes mapping */
    --type-display-med: var(--type-h1-m);
    --type-display-lg: var(--type-h1-l);

    /* Summary L: Base * Scale */
    /* Summary L: Base (Mobile) / Base * Scale (Desktop) */
    --type-summary-l: var(--type-base);

    --type-caption: calc(var(--type-base) / var(--scale));
    --type-micro: calc(var(--type-caption) / var(--scale));
    --leading-base: var(--scale);

    /* --- COLOR DEFINITIONS (Strict Phi Palette) --- */

    /* 1. MONOCHROME (1-10) */
    --mono-01: #000000;
    --mono-02: #0E0E0E;
    --mono-03: #252525;
    --mono-04: #3C3C3C;
    --mono-05: #616161;
    --mono-06: #9E9E9E;
    --mono-07: #C3C3C3;
    --mono-08: #DADADA;
    --mono-09: #F1F1F1;
    --mono-10: #FFFFFF;

    /* 2. PHI GREEN (1-12) */
    --green-01: #002500;
    --green-02: #003C00;
    --green-03: #009E00;
    --green-04: #00C300;
    --green-05: #00DA00;
    --green-06: #00F100;
    --green-07: #00FF00;
    --green-08: #00FF61;
    --green-09: #61FF9E;
    --green-10: #9EFFC3;
    --green-11: #C3FFDA;
    --green-12: #DAFFF1;

    /* 3. PHI BLUE (1-14) */
    --blue-01: #00003C;
    --blue-02: #000061;
    --blue-03: #000E9E;
    --blue-04: #000EC3;
    --blue-05: #003CC3;
    --blue-06: #0061DA;
    --blue-07: #009EFF;
    --blue-08: #00C3FF;
    --blue-09: #00DAFF;
    --blue-10: #3CFFFF;
    --blue-11: #61FFFF;
    --blue-12: #9EFFFF;
    --blue-13: #C3FFFF;
    --blue-14: #DAFFFF;

    /* 4. PHI PURPLE (1-8) */
    --purple-01: #250E3C;
    --purple-02: #3C0061;
    --purple-03: #61009E;
    --purple-04: #9E3CC3;
    --purple-05: #9E61C3;
    --purple-06: #C39EFF;
    --purple-07: #DAC3FF;
    --purple-08: #F1F1FF;

    /* 5. PHI MAGENTA (1-10) */
    --magenta-01: #3C003C;
    --magenta-02: #610061;
    --magenta-03: #9E009E;
    --magenta-04: #C300C3;
    --magenta-05: #DA00DA;
    --magenta-06: #F100F1;
    --magenta-07: #FF61FF;
    --magenta-08: #FF9EFF;
    --magenta-09: #FFDAFF;
    --magenta-10: #FFF1FF;

    /* 6. PHI RED (1-12) */
    --red-01: #250000;
    --red-02: #3C0000;
    --red-03: #610000;
    --red-04: #9E0000;
    --red-05: #DA0000;
    --red-06: #FF0000;
    --red-07: #FF3C3C;
    --red-08: #FF6161;
    --red-09: #FF9E9E;
    --red-10: #FFC3C3;
    --red-11: #FFDADA;
    --red-12: #FFF1F1;

    /* 7. PHI EARTH (1-10) */
    --earth-01: #250E0E;
    --earth-02: #3C250E;
    --earth-03: #613C25;
    --earth-04: #9E613C;
    --earth-05: #FF9E61;
    --earth-06: #FFC39E;
    --earth-07: #FFDAC3;
    --earth-08: #FFF1DA;
    --earth-09: #FFFFDA;
    --earth-10: #FFFFF1;

    /* 8. PHI SOLAR (1-12) */
    --solar-01: #F12500;
    --solar-02: #F13C00;
    --solar-03: #F16100;
    --solar-04: #FF9E00;
    --solar-05: #FFC300;
    --solar-06: #FFDA00;
    --solar-07: #FFF100;
    --solar-08: #FFFF61;
    --solar-09: #FFFF9E;
    --solar-10: #FFFFC3;
    --solar-11: #FFFFDA;
    --solar-12: #FFFFF1;

    /* UI MAPPINGS */
    --c-bg: var(--mono-10);
    --c-text: var(--mono-03);
    --c-text-muted: var(--mono-06);
    --c-border: var(--mono-04);
    --c-border-light: var(--mono-08);
    --c-nav-bg: var(--mono-09);
    --c-hover: var(--mono-10);
    --c-zone-bg: #f9f9f9;

    /* LAYOUT CONTROLLER */
    --max-width: 3000px;
    --radius-base: 0px;
}

* {
    box-sizing: border-box;
}

/* =========================================
   2. BASE STYLES
   ========================================= */
html {
    background-color: var(--mono-09);
}

body {
    margin: 0 auto;
    /* Centered */
    padding: 0;
    display: grid;
    grid-template-rows: var(--header-height) 1fr var(--header-height);

    max-width: var(--max-width);
    width: 100%;

    background-color: var(--c-bg);
    color: var(--c-text);
    font-family: var(--font-sans);
    font-size: var(--type-base);
    line-height: var(--leading-base);
    font-weight: 400;
    /* Inter Regular */
    box-shadow: 0 0 100px rgba(0, 0, 0, 0.1);
    /* Optional: Visual separation on huge screens */
}

p {
    margin: 0 0 1rem 0;
    font-weight: 400;
}

/* HEADERS: DM Serif Display */
h1,
h2,
h3 {
    margin: 0 0 1rem 0;
    font-family: var(--font-serif);
    font-weight: 400;
    /* DM Serif Display is typically 400 */
    letter-spacing: -0.02em;
}

h1 {
    font-size: var(--type-h1);
    line-height: 1.1;
}

h2 {
    font-size: var(--type-h2);
    line-height: 1.2;
}

/* H3 can stay Sans or Serif depending on preference, keeping Serif for consistency with headers */
h3 {
    font-size: var(--type-base);
    font-weight: 700;
}

/* LEAD / SUMMARY TEXT */
.lead {
    font-family: var(--font-sans);
    font-size: var(--type-summary-l);
    font-weight: 300;
    /* Inter Light for elegance */
    line-height: 1.5;
    color: var(--c-text);
    max-width: 65ch;
    /* Optimal reading length */
}

.type-display-lg {
    font-family: var(--font-serif);
    font-size: var(--type-display-lg);
    line-height: 1.05;
    font-weight: 400;
    letter-spacing: -0.04em;
    margin-bottom: 1rem;
}

.type-display-med {
    font-family: var(--font-serif);
    font-size: var(--type-display-med);
    line-height: 1.05;
    font-weight: 400;
    letter-spacing: -0.03em;
    margin-bottom: 1rem;
}

small,
.caption {
    font-family: var(--font-sans);
    font-size: var(--type-caption);
    color: var(--c-text-muted);
    display: block;
    margin-bottom: 0.5rem;
}

.type-micro {
    font-family: var(--font-sans);
    font-size: var(--type-micro);
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: 700;
}

.zone {
    background: var(--c-zone-bg);
    /*   border: 1px solid var(--c-border); */
    min-height: 1em;
    /* Reduced from 300px to prevent gaps */

    /* Container Query Context */
    container-type: inline-size;
    container-name: macro-zone;
}

/* UTILITY: Dark Zone (Matches mono-02 widgets, hides border) */
.zone.dark {
    background: var(--mono-02);
    border-color: var(--mono-02);
}

/* UTILITY: Dark Border Only */
.zone.border-dark {
    border-color: var(--mono-02);
}

/* =========================================
   3. APP SHELL
   ========================================= */

/* MAIN GRID */
.shell-body {
    display: grid;
    transition: grid-template-columns 0.4s cubic-bezier(0.25, 1, 0.5, 1);
    overflow: hidden;
    position: relative;
    height: calc(100vh - 120px);
    /* Viewport - Header - Footer */
}

/* DESKTOP LOGIC (>1000px) */
@media (min-width: 1000px) {
    :root {
        --scale: 1.618;
        --type-summary-l: calc(var(--type-base) * var(--scale));
    }

    .shell-body {
        grid-template-columns: var(--nav-width) 1fr 0px;
    }

    phi-left-nav {
        border-right: 1px solid var(--c-border);
        border-left: 1px solid var(--c-border);
    }

    phi-right-nav {
        border-left: 1px solid var(--c-border);
        border-right: 1px solid var(--c-border);
        visibility: hidden;
        opacity: 0;
    }

    /* States */
    body.left-closed .shell-body {
        grid-template-columns: 0px 1fr 0px;
    }

    body.left-closed phi-left-nav {
        visibility: hidden;
        opacity: 0;
    }

    body.right-open .shell-body {
        grid-template-columns: var(--nav-width) 1fr var(--nav-width);
    }

    body.right-open phi-right-nav {
        visibility: visible;
        opacity: 1;
    }

    body.left-closed.right-open .shell-body {
        grid-template-columns: 0px 1fr var(--nav-width);
    }
}

/* MOBILE LOGIC (<1000px) */
@media (max-width: 999px) {
    .shell-body {
        display: block;
        position: relative;
        height: auto;
        min-height: calc(100vh - 120px);
    }

    phi-left-nav,
    phi-right-nav {
        position: fixed;
        top: var(--header-height);
        bottom: 0;
        width: 85%;
        max-width: 320px;
        z-index: 4000;
        background: var(--c-nav-bg);
        transition: transform 0.3s ease;
        box-shadow: 0 0 50px rgba(0, 0, 0, 0.2);
        visibility: hidden;
    }

    phi-left-nav {
        left: 0;
        border-right: 1px solid var(--c-border);
        transform: translateX(-100%);
    }

    phi-right-nav {
        right: 0;
        border-left: 1px solid var(--c-border);
        transform: translateX(100%);
    }

    body.mobile-left-open phi-left-nav {
        transform: translateX(0);
        visibility: visible;
    }

    body.mobile-right-open phi-right-nav {
        transform: translateX(0);
        visibility: visible;
    }

    /* Backdrop */
    body.mobile-left-open::after,
    body.mobile-right-open::after {
        content: '';
        position: fixed;
        top: var(--header-height);
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 3000;
        animation: fadeIn 0.3s forwards;
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }

    to {
        opacity: 1;
    }
}

/* =========================================
   4. ZONES (Content Slots)
   ========================================= */
.zone {
    background: var(--c-zone-bg);
    /* border: 1px solid var(--c-border); */
    min-height: 1em;
    /* Container Query Context */
    container-type: inline-size;
    container-name: macro-zone;
}

/* UTILITY: Dark Zone */
.zone.dark {
    background: var(--mono-02);
    border-color: var(--mono-02);
}

/* UTILITY: Dark Border Only */
.zone.border-dark {
    border-color: var(--mono-02);
}